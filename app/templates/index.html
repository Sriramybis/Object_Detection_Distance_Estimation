<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Live YOLOv5 Detection</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='style.css') }}"
    />
  </head>
  <body>
    <h1>üì∑ Live Object Detection & Distance Estimation</h1>

    <div class="controls">
      <button id="toggle-btn">‚ñ∂ Start Detection</button>
    </div>

    <div class="video-wrapper" style="display: none" id="video-container">
      <img
        id="video-feed"
        src="{{ url_for('video_feed') }}"
        alt="Live Detection Feed"
      />
    </div>

    <div class="footer">
      <p>Press <strong>Q</strong> in terminal to quit if running locally.</p>
    </div>

    <script>
      const toggleBtn = document.getElementById("toggle-btn");
      const videoContainer = document.getElementById("video-container");
      const videoFeed = document.getElementById("video-feed");

      let streamActive = false;

      toggleBtn.addEventListener("click", () => {
        if (!streamActive) {
          videoFeed.src = "{{ url_for('video_feed') }}";
          videoContainer.style.display = "block";
          toggleBtn.textContent = "‚èπ Stop Detection";
          streamActive = true;
        } else {
          videoFeed.src = "";
          videoContainer.style.display = "none";
          toggleBtn.textContent = "‚ñ∂ Start Detection";
          streamActive = false;
        }
      });
    </script>
  </body>
</html>
